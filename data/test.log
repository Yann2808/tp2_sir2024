/*C1*/SET SCHEMA SYSTEM_LOBS
INSERT INTO BLOCKS VALUES(0,2147483647,0)
COMMIT
/*C2*/SET SCHEMA PUBLIC
create table Evenement (placesDisponibles integer, prix float(53), date timestamp(6), id bigint generated by default as identity (start with 1), organisateur_id bigint, description varchar(255), lieu varchar(255), nom varchar(255), primary key (id))
create table Ticket (acheteur_id bigint, dateAchat timestamp(6), evenement_id bigint, id bigint generated by default as identity (start with 1), qrCode varchar(255), statut varchar(255), primary key (id))
create table User (dateNaissance date, id bigint generated by default as identity (start with 1), DTYPE varchar(31) not null, adresse varchar(255), codePostal varchar(255), email varchar(255), nom varchar(255), nomEntreprise varchar(255), prenom varchar(255), siret varchar(255), telephone varchar(255), ville varchar(255), primary key (id))
alter table Evenement add constraint FKq97sdcqpb3hrafgh16smadqdr foreign key (organisateur_id) references User
alter table Ticket add constraint FKhnws10gnmeqf06qhwfa8jai1c foreign key (acheteur_id) references User
alter table Ticket add constraint FKnxp90mos6ebnx1toph4oqo6a foreign key (evenement_id) references Evenement
INSERT INTO USER VALUES(NULL,1,'UtilisateurParticulier','1 rue de la paix','75000','john@doe.com','Doe',NULL,'John',NULL,'0123456789','Paris')
COMMIT
/*C3*/SET SCHEMA PUBLIC
DISCONNECT
/*C2*/DISCONNECT
